<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>测试事件类型</title>
		<script type="text/javascript" src="EventUtil.js"></script>
	</head>
	<!-- 1. body元素上的onload事件 -->
	<body onload="alert('Loaded!')" onunload="alert('unloaded!')">
dddddddddddddddd
		<!-- 3.img load事件 -->
		<!-- <img id="myImage" src="index.png" onload="alert('Image loaded')" onerror="alert('Image load error')"> -->

		<script type="text/javascript">
			// // 2.监听load事件
			// EventUtil.addHandler(window, 'load', function(event) {
			// 	alert('onload')
			// })

			// // 3.监听img load事件
			// var image = document.getElementById('myImage')
			// EventUtil.addHandler(image, 'load', function (event) {
			// 	event = EventUtil.getEvent(event);
			// 	alert(EventUtil.getTarget(event).src); // 显示img的src
			// })
			// // 依次输入的顺序，先加载图片、再window.onload，优先html元素内嵌的方法
			// // Image loaded
			// // file:///C:/Users/91670/Desktop/jsdemo/index.png
			// // Loaded!
			// // onload

			// EventUtil.addHandler(window, 'load', function() {
			// 	var image = new Image(); // 等价于 document.createElement('img');
			// 	EventUtil.addHandler(image, 'load', function() {
			// 		alert('image loaded!')
			// 	});
			// 	image.src = 'index.png'
			// 	document.body.appendChild(image)
			// });

			// 2. 动态创建加载script
			// EventUtil.addHandler(window, 'load', function() {
			// 	console.log('sdfsd')
			//   var script = document.createElement('script');
			//   EventUtil.addHandler(script, 'load', function() {
			//   		alert('script loaded!');
			//   	});
			//   script.src = 'test.js';
			//   document.head.appendChild(script);
			// });

			// EventUtil.addHandler(window, 'load', function() {
			// 	console.log('sdfsd')
			//   var link = document.createElement('link');
			//   link.type = 'text/css';
			//   link.rel = 'stylesheet';
			//   EventUtil.addHandler(link, 'load', function() {
			//   		alert('css loaded!');
			//   	});
			//   link.href = 'test.css';
			//   document.getElementsByTagName('head')[0].appendChild(link);
			// });

			EventUtil.addHandler(window, 'unload', function() {
			  console.log('页面unload');
			  // window.document.title ='您已离开了页面';
			});

			EventUtil.addHandler(window, 'resize', function() {
			  console.log(`Resized, innerHeight: ${window.innerHeight}, innerWidth: ${window.innerWidth}`)
			});
		</script>
	</body>
</html>